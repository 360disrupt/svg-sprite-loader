# svg-sprite-loader 2.0 overview

## How to migrate

tl;dr:
- Node.js >= 6 is required.
- `name` option was renamed to `symbolId`.
- `regExp`, `prefixize`, `angularBaseWorkaround` options was removed and will have no effect.
  Prefixize applies for symbol elements by default. Workaround for Angular enables automatically when `'angular' in window === true`.
- Runtime API has changed, but compatible mode available via `runtimeCompat: true`.

So in most cases following config should work:

```js
// webpack 1
module.exports = {
  module: {
    loaders: [
      {
        test: /\.svg$/,
        loader: 'svg-sprite-loader?runtimeCompat=true'
      }
    ]
  }
}

// webpack 2
module.exports = {
  module: {
    rules: [
      {
        test: /\.svg$/,
        loader: 'svg-sprite-loader',
        options: {
          runtimeCompat: true
        }
      }
    ]
  }
}
```

## New runtime API

Instead of symbol id runtime module now returns an object (class instance actually) which contains `id`, `viewBox` and `content` fields.
Reason: make runtime more flexible, also it was requested in #32.
 
```js
// old
import symbolId from './image.svg';
// symbolId === '#image'

const rendered = `
<svg>
  <use xlink:href="${symbolId}" />
</svg>`;


// new
import symbol from './image.svg';
// symbol === SpriteSymbol<id: string, viewBox: string, content: string>

const rendered = `
<svg viewBox="${symbol.viewBox}">
  <use xlink:href="#${symbol.id}" />
</svg>`;
```

If you need old behaviour, set `runtimeCompat` option to `true`.

